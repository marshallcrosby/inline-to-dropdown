{"version":3,"sources":["inline-to-dropdown.js"],"names":["inlineToDropdownEl","document","querySelectorAll","length","container","dropdown","dropdownChildren","dropdownChildItem","lastDropdownChildItem","reflowItems","el","classList","add","querySelector","forEach","item","appendChild","element","scrollHeight","clientHeight","scrollWidth","clientWidth","prepend","children","remove","window","addEventListener","func","timer","event","clearTimeout","setTimeout","debounce"],"mappings":"CAAC,WACG,MAAMA,EAAqBC,SAASC,iBAAiB,uBAErD,GAAIF,EAAmBG,OAAQ,CAC3B,IAAIC,EACAC,EACAC,EACAC,EACAC,EAYJ,SAASC,EAAYC,GAUjB,IATAA,EAAGC,UAAUC,IAAI,4BACjBR,EAAYM,EAAGG,cAAc,8BAC7BR,EAAWK,EAAGG,cAAc,mBAC5BP,EAAmBD,EAASH,iBAAiB,8BAE5BY,QAASC,IACtBX,EAAUY,YAAYD,MAGQ,KAajBE,EAbEb,GAcJc,aAAeD,EAAQE,cAAgBF,EAAQG,YAAcH,EAAQI,cAbhFd,EAAoBH,EAAUF,iBAAiB,6BAC/CM,EAAwBD,EAAkBA,EAAkBJ,OAAS,GACrEE,EAASiB,QAAQd,GAUzB,IAAqBS,EAPbZ,EAASkB,SAASpB,OAAS,EAC3BO,EAAGC,UAAUC,IAAI,4BAEjBF,EAAGC,UAAUa,OAAO,4BA7B5BxB,EAAmBc,QAAQC,IACvBN,EAAYM,KAGhBU,OAAOC,iBAAiB,SAiCxB,SAAkBC,GACd,IAAIC,EAEJ,OAAO,SAASC,GACRD,GAAOE,aAAaF,GACxBA,EAAQG,WAAWJ,EAAM,IAAKE,IAtCJG,CAAS,KACvChC,EAAmBc,QAAQC,IACvBN,EAAYM,SAhB5B","sourcesContent":["(function() {\n    const inlineToDropdownEl = document.querySelectorAll('.inline-to-dropdown');\n\n    if (inlineToDropdownEl.length) {\n        let container;\n        let dropdown;\n        let dropdownChildren;\n        let dropdownChildItem;\n        let lastDropdownChildItem;\n\n        inlineToDropdownEl.forEach(item => {\n            reflowItems(item);\n        });\n\n        window.addEventListener('resize', debounce(() => {\n            inlineToDropdownEl.forEach(item => {\n                reflowItems(item);\n            });\n        }));\n        \n        function reflowItems(el) {\n            el.classList.add('js-dropdown-has-children');\n            container = el.querySelector('.inline-to-dropdown__group');\n            dropdown = el.querySelector('.dropdown-menu');\n            dropdownChildren = dropdown.querySelectorAll('.inline-to-dropdown__item');\n\n            dropdownChildren.forEach((item) => {\n                container.appendChild(item);\n            });\n            \n            while (isOverflown(container) === true) {\n                dropdownChildItem = container.querySelectorAll('.inline-to-dropdown__item');\n                lastDropdownChildItem = dropdownChildItem[dropdownChildItem.length - 1];\n                dropdown.prepend(lastDropdownChildItem);\n            }\n\n            if (dropdown.children.length > 0) {\n                el.classList.add('js-dropdown-has-children');\n            } else {\n                el.classList.remove('js-dropdown-has-children');\n            }\n        }\n\n        function isOverflown(element) {\n            return element.scrollHeight > element.clientHeight || element.scrollWidth > element.clientWidth;\n        }\n\n        function debounce(func) {\n            let timer;\n\n            return function(event){\n                if (timer) clearTimeout(timer);\n                timer = setTimeout(func, 100, event);\n            };\n        }\n    }\n}());"]}